<p-dialog
  dismissableMask="true"
  [visible]="isOpen()"
  (visibleChange)="onVisibleChange($event)"
  i18n-header
  header="Create a study section"
  [style]="{ width: '90vw', height: '95vh' }"
  [modal]="true"
>
  <div class="section-form-part">
    <div class="section-form-part">
      <h3 class="title-underline" i18n>Section source</h3>
      <div class="card flex justify-center">
        <div class="flex flex-wrap gap-4">
          <div class="flex items-center">
            <p-radiobutton
              name="source"
              value="manual"
              [(ngModel)]="source"
              inputId="manual"
            />
            <label for="manual" class="ml-2" i18n>Manual</label>
          </div>
          <div class="flex items-center">
            <p-radiobutton
              name="source"
              value="referencial"
              [(ngModel)]="source"
              inputId="referencial"
            />
            <label for="referencial" class="ml-2" i18n>From referencial</label>
          </div>
          <div class="flex items-center">
            <p-radiobutton
              name="source"
              value="distantReferencial"
              [(ngModel)]="source"
              inputId="distantReferencial"
            />
            <label for="distantReferencial" class="ml-2" i18n
              >From distant referencial</label
            >
          </div>
          <div class="flex items-center">
            <p-radiobutton
              name="source"
              value="extraction"
              [(ngModel)]="source"
              inputId="extraction"
            />
            <label for="ingredient2" class="ml-2" i18n>From extraction</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <p-divider class="my-10" />
    <app-manual-section
      *ngIf="source === 'manual'"
      [section]="section()"
      (sectionChange)="onSectionChange($event)"
    />
  </div>
  <ng-template #footer>
    <p-button
      label="Close"
      severity="secondary"
      icon="pi pi-times"
      (onClick)="onVisibleChange(false)"
    />
    <p-button
      label="Validate"
      (onClick)="onValidate()"
      severity="primary"
      icon="pi pi-check"
    />
  </ng-template>
</p-dialog>
