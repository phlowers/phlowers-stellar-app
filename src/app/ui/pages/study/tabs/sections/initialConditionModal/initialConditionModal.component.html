<p-dialog
  dismissableMask="true"
  [visible]="isOpen()"
  (visibleChange)="onVisibleChange($event)"
  [style]="{ 'min-width': '50vw', 'max-width': '40.625rem' }"
  [modal]="true"
>
  <ng-template #header>
    <p class="text-l-600 mb-0 flex gap-2">
      <app-icon icon="edit" />
      <span i18n>Create an initial condition</span>
    </p>
  </ng-template>

  <form class="form" action="">
    <div class="form__col">
      <div>
        <label for="section-name" i18n>Section name</label>
        <input
          type="text"
          readonly
          id="section-name"
          pInputText
          [value]="section().name"
        />
      </div>
      <div>
        <label for="cable-name" i18n>Cable name</label>
        <input
          type="text"
          readonly
          id="cable-name"
          pInputText
          [value]="section().cable_name"
        />
      </div>
      <div>
        <label for="cables-amount" i18n>Cables amount</label>
        <input
          type="text"
          readonly
          id="cables-amount"
          pInputText
          [value]="section().cables_amount"
        />
      </div>
    </div>

    <p-divider layout="vertical" />

    <div class="form__col form__col--right">
      <div>
        <label for="initial-condition-name" i18n>Initial condition name</label>
        <input
          name="initial-condition-name"
          required
          type="text"
          id="initial-condition-name"
          pInputText
          [(ngModel)]="initialCondition().name"
          [readonly]="mode() === 'view'"
        />
      </div>
      <div>
        <label for="initial-condition-base-parameter" i18n>
          Base parameter
        </label>
        <input
          name="initial-condition-base-parameter"
          required
          type="text"
          id="initial-condition-base-parameter"
          pInputText
          [(ngModel)]="initialCondition().base_parameters"
          [readonly]="mode() === 'view'"
        />
      </div>
      <div>
        <label for="initial-condition-base-temperature" i18n>
          Base temperature (Â°C)
        </label>
        <input
          name="initial-condition-base-temperature"
          required
          type="number"
          id="initial-condition-base-temperature"
          pInputText
          [(ngModel)]="initialCondition().base_temperature"
          [readonly]="mode() === 'view'"
        />
      </div>
    </div>
  </form>

  <ng-template #footer>
    <button
      app-btn
      type="submit"
      btnSize="m"
      btnStyle="outlined"
      (click)="isOpenChange.emit(false)"
    >
      <app-icon icon="close" />
      <span i18n>Cancel</span>
    </button>
    @if (mode() !== 'view') {
      <button app-btn type="button" btnSize="m" (click)="onSubmit()">
        <app-icon icon="check" />
        <span i18n>Validate</span>
      </button>
    }
  </ng-template>
</p-dialog>
