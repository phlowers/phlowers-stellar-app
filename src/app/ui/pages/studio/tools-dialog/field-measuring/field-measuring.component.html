<ng-template #header>
  <p class="text-l-600 mb-0 flex gap-2">
    <app-icon icon="calculate" />
    <span i18n>Compute base parameter from terrain measurement</span>
  </p>
</ng-template>

<app-header
  [measureData]="measureData()"
  [spanOptions]="spanOptions()"
  (fieldChange)="onFieldChange($event.field, $event.value)"
/>

<p-tabs [(value)]="activeTab">
  <p-tablist>
    <p-tab value="terrainData" i18n>Terrain data</p-tab>
    <p-tab value="parameterCalculation" i18n>Parameter calculation</p-tab>
    <p-tab value="temperatureCalculation" i18n>Temperature calculation</p-tab>
    <p-tab value="parameterAt15CWithoutWind" i18n
      >Parameter at 15°C without wind</p-tab
    >
  </p-tablist>

  <p-tabpanel value="terrainData">
    <app-field-datas
      [measureData]="measureData()"
      (fieldChange)="onFieldChange($event.field, $event.value)"
    />
  </p-tabpanel>

  <p-tabpanel value="parameterCalculation">
    <app-calculus-setting [(measureData)]="measureData" />
  </p-tabpanel>

  <p-tabpanel value="temperatureCalculation">
    <span i18n>Temperature calculation</span>
  </p-tabpanel>

  <p-tabpanel value="parameterAt15CWithoutWind">
    <span i18n>Parameter at 15°C without wind</span>
  </p-tabpanel>
</p-tabs>

<ng-template #footer>
  <div class="dialog-footer">
    <button
      app-btn
      type="button"
      btnSize="m"
      btnStyle="outlined"
      (click)="onExport()"
    >
      <app-icon icon="download" />
      <span i18n>Export</span>
    </button>
    <button
      app-btn
      type="button"
      btnSize="m"
      btnStyle="outlined"
      (click)="onReport()"
    >
      <app-icon icon="description" />
      <span i18n>Report</span>
    </button>
    <button app-btn type="button" btnSize="m" (click)="onSave()">
      <app-icon icon="save" />
      <span i18n>Save</span>
    </button>
  </div>
</ng-template>
